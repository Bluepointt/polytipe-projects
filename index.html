<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
  <meta charset="utf-8">

  <title>project_name | Polytipe</title>
  <meta name="description" content="">

  <!-- No zooming! -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <!-- Chrome / Android -->
  <meta id="bar" name="theme-color" content="#212121">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="black">
  <link rel="icon" href="images/touch/icon-128x128.png">

  <!-- Web Application Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Tile color for Win8/10 -->
  <meta name="msapplication-TileColor" content="">
  <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="My App">
  <link rel="apple-touch-icon" href="images/touch/apple-touch-icon.png">

  <!-- Twitter card -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@alejost848">
	<meta name="twitter:creator" content="@alejost848">
	<meta name="twitter:title" content="Polytipe">
	<meta name="twitter:description" content="Crea prototipos a partir de una interfaz gráfica, realiza pruebas de usabilidad y genera código HTML y Javascript">
	<meta name="twitter:image" content="/images/cover.png">

  <!-- Facebook card -->
	<meta property="og:title" content="Polytipe">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://polytipe.me">
	<meta property="og:description" content="Crea prototipos a partir de una interfaz gráfica, realiza pruebas de usabilidad y genera código HTML y Javascript">
	<meta property="og:image" content="/images/cover.png">

  <!-- Web Components -->
  <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="elements.html">
  <link rel="import" href="styles.html">
  <link rel="import" href="iron-flex.html">

</head>

<body unresolved class="fullbleed main">
  <template id="app" is="dom-bind">
    <iron-location path="{{path}}" hash="{{hash}}" query="{{query}}"></iron-location>
    <paper-drawer-panel id="drawer_panel" disable-swipe force-narrow>
      <paper-header-panel drawer mode="seamed">
        <div id="drawer_content"></div>
      </paper-header-panel>
      <paper-header-panel main mode="seamed">
        <paper-toolbar id="editor_toolbar" class="screen_view_toolbar">
          <paper-icon-button class="back_icon" icon="polytipe-icons:icon"></paper-icon-button>
          <div class="paper-font-title">Prototipo project_name</div>
          <span class="flex"></span>
          <paper-menu-button horizontal-align="right" vertical-offset="15" horizontal-offset="5">
            <paper-icon-button icon="more-vert" class="dropdown-trigger" title="Más acciones"></paper-icon-button>
            <paper-menu class="dropdown-content">
              <a class="link" tabindex="-1" href="https://github.com/{{username}}/polytipe-projects/tree/project_name" target="_blank">
                <paper-item>
                  <iron-icon class="element_icon" icon="code"></iron-icon>
                  <div>Ir al código</div>
                </paper-item>
              </a>
              <paper-item>
                <iron-icon class="element_icon" icon="feedback"></iron-icon>
                <div>Enviar feedback</div>
              </paper-item>
              <a class="link" tabindex="-1" href="https://polytipe.me" target="_blank">
                <paper-item>
                  <iron-icon class="element_icon delete_icon" icon="polytipe-icons:icon"></iron-icon>
                  <div>Ir a Polytipe</div>
                </paper-item>
              </a>
            </paper-menu>
          </paper-menu-button>
        </paper-toolbar>

        <div id="app_container" class="layout horizontal center-center">
          <paper-spinner id="iframe_loading_spinner" active></paper-spinner>
          <iframe id="app_iframe" src="prototype.html"></iframe>
          <paper-chip id="user_badge" animated>
            <iron-image class="icon" id="avatar" src="{{avatar_url}}" preload fade></iron-image>
            <h1>{{username}}</h1>
            <h2>Creado con <strong><a class="link" href="https://polytipe.me" target="_blank">Polytipe</a></strong></h2>
          </paper-chip>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>

    <iron-ajax
        auto
        url="https://api.github.com/users/{{username}}"
        last-response="{{last_response}}">
    </iron-ajax>
  </template>
  <script type="text/javascript">
    window.addEventListener('WebComponentsReady', function(e) {
      var app = document.getElementById("app");
      app.username = location.host.split(".")[0];

      document.querySelector('iron-ajax').addEventListener("response", function () {
        app.avatar_url = app.last_response.avatar_url;
      });

    });
    function iframe_ready() {
      document.getElementById('app_iframe').style.opacity = 1;
      document.getElementById('iframe_loading_spinner').active = false;

      var iframe_document = document.getElementById('app_iframe').contentDocument || document.getElementById('app_iframe').contentWindow.document;
      var app_content = iframe_document.getElementById('app_content');
      if(app_content.children.length > 0){
        app_content.selected = app_content.children[0].id;
      }
    }
  </script>
</body>

</html>
